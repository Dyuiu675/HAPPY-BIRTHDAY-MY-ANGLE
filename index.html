<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Happy Birthday üéÇ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    height:100vh;
    background:radial-gradient(circle at top,#ffdde1,#ee9ca7);
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Comic Sans MS', cursive;
    overflow:hidden;
}

.container{
    text-align:center;
    color:#fff;
    z-index:2;
    position:relative;
    display:flex;
    flex-direction:column;
    align-items:center;
}

h1{
    font-size:2.6em;
    text-shadow:0 4px 15px rgba(0,0,0,.4);
    margin-bottom:20px;
}

button{
    padding:14px 30px;
    font-size:1.1em;
    border:none;
    border-radius:40px;
    background:#ff4d6d;
    color:#fff;
    cursor:pointer;
    box-shadow:0 8px 20px rgba(0,0,0,.3);
    transition:.3s;
    margin-bottom:20px;
}
button:hover{transform:scale(1.1)}

#cake{
    display:none;
    margin-top:20px;
    display:flex;
    flex-direction:column;
    align-items:center;
}

/* ====== CAKE - Lebih Mirip Kue Ulang Tahun Klasik ====== */
.cake{
    position:relative;
    width:300px;
    margin:auto;
}

.layer{
    width:100%;
    height:90px;
    border-radius:30px;
    box-shadow:0 10px 20px rgba(0,0,0,.3);
    position:relative;
}

.layer1{background:#ffb703;} /* Bottom layer */
.layer2{background:#fb8500; margin-top:-20px;} /* Middle layer */
.layer3{background:#ffd166; margin-top:-20px;} /* Top layer */

.cream{
    position:absolute;
    top:0;
    width:100%;
    height:30px;
    background:#fff;
    border-radius:30px 30px 20px 20px;
}

/* Frosting details */
.frosting{
    position:absolute;
    top:10px;
    width:100%;
    height:15px;
    background:#fff;
    border-radius:15px;
    opacity:0.8;
}

/* Candles - Multiple for birthday feel */
.candle{
    width:12px;
    height:50px;
    background:#fff;
    position:absolute;
    top:-55px;
    cursor:pointer;
    border-radius:5px 5px 0 0;
}

.candle1{left:40%;}
.candle2{left:50%; transform:translateX(-50%);}
.candle3{left:60%;}

.flame{
    width:18px;
    height:18px;
    background:orange;
    border-radius:50% 50% 50% 50% / 60% 60% 40% 40%;
    position:absolute;
    top:-18px;
    left:-3px;
    animation:flicker .25s infinite alternate;
}

@keyframes flicker{
    from{transform:scale(1);}
    to{transform:scale(1.4);}
}

/* Cherry on top */
.cherry{
    position:absolute;
    top:-25px;
    left:50%;
    transform:translateX(-50%);
    width:20px;
    height:20px;
    background:#d00000;
    border-radius:50%;
    box-shadow:0 2px 5px rgba(0,0,0,.3);
}
.cherry::before{
    content:'';
    position:absolute;
    top:-5px;
    left:50%;
    transform:translateX(-50%);
    width:10px;
    height:10px;
    background:#228b22;
    border-radius:50%;
}

/* Sprinkles */
.sprinkles{
    position:absolute;
    top:20px;
    width:100%;
    display:flex;
    justify-content:space-around;
}
.sprinkle{
    width:6px;
    height:6px;
    background:#ff6b6b;
    border-radius:50%;
}

/* ====== PHOTO ====== */
.photo-box{
    margin-top:20px;
}
.photo-box img{
    width:140px;
    height:140px;
    object-fit:cover;
    border-radius:50%;
    border:5px solid #fff;
    box-shadow:0 5px 15px rgba(0,0,0,.4);
}

/* ====== LETTER ICON - Di Kanan ====== */
.letter{
    font-size:42px;
    position:absolute;
    right:20px;
    top:50%;
    transform:translateY(-50%);
    cursor:pointer;
    animation:bounce 1.5s infinite;
    z-index:3;
}
@keyframes bounce{
    50%{transform:translateY(-10px);}
}

/* ====== NOTE - Muncul di Kanan Saat Diklik ====== */
#note{
    display:none;
    background:#fff;
    color:#333;
    padding:20px;
    border-radius:15px;
    position:absolute;
    right:80px; /* Di sebelah kanan ikon */
    top:50%;
    transform:translateY(-50%);
    max-width:300px;
    max-height:400px;
    overflow-y:auto; /* Scroll jika panjang */
    box-shadow:0 10px 25px rgba(0,0,0,.3);
    z-index:4;
}

/* ====== FIREWORKS ====== */
.firework{
    position:fixed;
    width:6px;
    height:6px;
    background:transparent;
    border-radius:50%;
    box-shadow:
    0 0 #fff,
    20px 0 red,
    -20px 0 yellow,
    0 20px cyan,
    0 -20px pink;
    animation:boom 1s ease-out forwards;
}
@keyframes boom{
    to{
        box-shadow:
        0 0 transparent,
        80px 0 transparent,
        -80px 0 transparent,
        0 80px transparent,
        0 -80px transparent;
        opacity:0;
    }
}
</style>
</head>

<body>

<div class="container">
    <h1>üéâ Selamat Ulang Tahun üéâ</h1>
    <button onclick="start()">Klik Kejutan üéÇ</button>

    <div id="cake">
        <div class="cake">
            <div class="cherry"></div>
            <div class="candle candle1" onclick="blow(this)">
                <div class="flame"></div>
            </div>
            <div class="candle candle2" onclick="blow(this)">
                <div class="flame"></div>
            </div>
            <div class="candle candle3" onclick="blow(this)">
                <div class="flame"></div>
            </div>
            <div class="layer layer3">
                <div class="frosting"></div>
                <div class="sprinkles">
                    <div class="sprinkle"></div>
                    <div class="sprinkle"></div>
                    <div class="sprinkle"></div>
                    <div class="sprinkle"></div>
                    <div class="sprinkle"></div>
                    <div class="sprinkle"></div>
                </div>
            </div>
            <div class="layer layer2"></div>
            <div class="layer layer1"></div>
            <div class="cream"></div>
        </div>

        <div class="photo-box">
            <input type="file" accept="image/*" onchange="loadPhoto(event)">
            <img id="photo">
        </div>
    </div>

    <div class="letter" onclick="toggleNote()">‚úâÔ∏è</div>

    <div id="note">
        <h3>Untuk Kamu üíñ</h3>
        <p>
        Selamat ulang tahun üéÇ<br>
        Semoga semua doa baik menjadi nyata<br>
        dan senyummu selalu ada hari ini ‚ú®<br>
        <br>
        Tambahan pesan panjang untuk testing scroll: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        </p>
    </div>
</div>

<audio id="music" src="lagu.mp3" loop></audio>

<script>
function start(){
    document.getElementById("cake").style.display="flex";
    document.getElementById("music").play();
    fireworks();
}

function toggleNote(){
    const n = document.getElementById("note");
    n.style.display = n.style.display === "block" ? "none" : "block";
}

function blow(candle){
    const flame = candle.querySelector('.flame');
    flame.style.display = "none";
}

function loadPhoto(e){
    document.getElementById("photo").src = URL.createObjectURL(e.target.files[0]);
}

function fireworks(){
    for(let i=0; i<6; i++){
        const f = document.createElement("div");
        f.className = "firework";
        f.style.left = Math.random() * window.innerWidth + "px";
        f.style.top = Math.random() * window.innerHeight + "px";
        document.body.appendChild(f);
        setTimeout(() => f.remove(), 1000);
    }
}
</script>

</body>
</html>